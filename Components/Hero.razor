@using Radzen
@using Radzen.Blazor
@using BlazorBFA.ViewModels
@inject HeroViewModel ViewModel
@inject NavigationManager Navigation
@inject IJSRuntime JS

<section id="home" class="hero-section">
@* Video background *@
<div class="hero-video-background">
    <video autoplay muted loop playsinline class="hero-bg-video">
        <source src="videos/hero-video.mp4?v=3" type="video/mp4" />
    </video>
</div>
<div class="hero-overlay"></div>
    
    @* Three horizontal rows: top, middle, bottom *@
    <div class="hero-rows-container">
        @* Top row - empty *@
        <div class="hero-row-top"></div>
        
        @* Middle row - content *@
        <div class="hero-row-middle">
            <div class="hero-content">
                <RadzenText TextStyle="TextStyle.Subtitle1" Class="section-label hero-label" Style="color:white;">@ViewModel.Label</RadzenText>
                <h1 class="hero-title">@ViewModel.Title <span class="hero-title-highlight">@ViewModel.TitleHighlight</span></h1>
                <RadzenText TextStyle="TextStyle.Body1" Class="hero-subtitle">@ViewModel.Subtitle</RadzenText>
                <RadzenStack Orientation="Orientation.Horizontal" Gap="16px" Wrap="FlexWrap.Wrap" Class="hero-buttons" JustifyContent="JustifyContent.Start">
                    <RadzenButton Text="@ViewModel.PrimaryButtonText" Icon="arrow_forward" Class="hero-btn-primary" Click="ScrollToServices" />
                    <RadzenButton Text="@ViewModel.SecondaryButtonText" Icon="mail" Variant="Variant.Outlined" Class="hero-btn-secondary" Click="ScrollToContact" />
                </RadzenStack>
            </div>
        </div>
        
        @* Bottom row - empty *@
        <div class="hero-row-bottom"></div>
    </div>
    
    @* Scroll indicator *@
    <div class="hero-scroll-indicator" @onclick="ScrollToAbout" style="cursor:pointer;">
        <div class="scroll-mouse">
            <div class="scroll-wheel"></div>
        </div>
        <span class="scroll-text">@ViewModel.ScrollText</span>
    </div>
</section>

<style>
    .hero-label {
        font-size: 0.875rem;
    }
    
    .hero-subtitle {
        font-size: 1.25rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2rem;
        line-height: 1.7;
        max-width: 600px;
    }
    
    .hero-btn-primary {
        background: linear-gradient(135deg, #0070a0 0%, #00a8e8 100%);
        border: none;
        border-radius: 9999px;
        padding: 14px 28px;
        font-weight: 500;
        color: white;
    }
    
    .hero-btn-secondary {
        border: 2px solid rgba(255, 255, 255, 0.8);
        color: white;
        border-radius: 9999px;
        padding: 14px 28px;
        font-weight: 500;
        background: rgba(255, 255, 255, 0.1);
    }
    
    @@media (max-width: 480px) {
        .hero-label {
            font-size: 0.75rem !important;
        }
        
        .hero-subtitle {
            font-size: 0.95rem !important;
            margin-bottom: 1.5rem !important;
            line-height: 1.6 !important;
        }
        
        .hero-btn-primary,
        .hero-btn-secondary {
            padding: 12px 20px !important;
            font-size: 0.875rem !important;
        }
        
        .hero-buttons {
            flex-direction: column !important;
            width: 100%;
            gap: 12px !important;
        }
        
        .hero-buttons .rz-button {
            width: 100% !important;
            justify-content: center;
        }
    }
    
    @@media (min-width: 481px) and (max-width: 768px) {
        .hero-subtitle {
            font-size: 1.1rem !important;
        }
        
        .hero-buttons {
            justify-content: center !important;
        }
    }
</style>

@code {
    private void ScrollToServices() => Navigation.NavigateTo("#services", forceLoad: false);
    private void ScrollToContact() => Navigation.NavigateTo("#contact", forceLoad: false);
    private async Task ScrollToAbout() => await JS.InvokeVoidAsync("scrollToSection", "about");
}
